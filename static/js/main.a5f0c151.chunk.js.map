{"version":3,"sources":["helpers/dateFormatter.js","../node_modules/jspdf/dist sync","serviceWorker.js","context/RealmContext.js","containers/SignInPage.js","components/common/SearchField.js","components/common/FilterButton.js","components/common/Profile.js","components/TopPanel.js","components/projects/ProjectCard.js","components/projects/ProjectsList.js","components/common/helpers/TableIcons.js","components/common/SimpleTable.js","components/projects/MilestonesInfo.js","components/common/helpers/generateTablesData.js","components/projects/MilestonesInfoPaper.js","components/ProjectsContainer.js","graphql/graphql-operations.js","containers/MainPage.js","RealmApolloProvider.jsx","RealmApp.jsx","App.js","index.js"],"names":["module","exports","toEnUsDate","stringDate","Date","toLocaleString","webpackEmptyContext","req","e","Error","code","keys","resolve","id","Boolean","window","location","hostname","match","RealmContext","React","createContext","require","config","GOOGLE_CLIENT_ID","process","APP_NAME","COPYRIGHT_LINK","REALM_APP_ID","REALM_SERVICE_NAME","REALM_DATABASE_NAME","REALM_COLLECTION_NAME","ContextContainer","props","setUser","user","setState","state","app","dbCollection","services","mongodb","db","collection","console","log","watch","anonymousSignIn","a","credentials","Realm","anonymous","logIn","error","onGoogleSuccessSignIn","response","google","then","catch","err","onGoogleSignInFailure","getUserAccessToken","currentUser","refreshCustomData","accessToken","fetchFiltersDefaultValues","functions","getFiltersDefaultValues","fetchedData","regionsList","regions","sort","ownersList","owners","projectManagersList","projectManagers","setLoadProcessing","loadProcessing","setProjects","projects","cleanLocalProjects","projectWithCurrentMilestone","logOut","setFilter","newFilter","filter","setSorting","newSort","setProjectWithCurrentMilestone","setIsEditing","isEditing","googleClientId","realmAppId","appName","copyrightLink","region","owner","project_manager","name","field","order","funcs","setClient","Provider","value","this","children","Component","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","submit","signInForm","width","justifyContent","errorBox","SignInPage","onSuccess","onFailure","signInError","classes","Container","component","maxWidth","CssBaseline","className","Avatar","Typography","variant","Button","type","color","onClick","clientId","buttonText","scope","responseType","align","Box","mt","Copyright","Link","href","getFullYear","defaultProps","SearchField","inputPlaceHolder","onKeyDown","searchContainer","searchIcon","inputBaseRoot","inputBaseInput","InputBase","placeholder","root","input","inputProps","FilterButton","filterButtonText","filterDialogTitle","filtersObject","applyButtonText","onApplyFilters","showEmptyValue","formContainer","useState","openDialog","setOpenDialog","handleClickCloseDialog","Dialog","disableBackdropClick","disableEscapeKeyDown","open","onClose","DialogTitle","DialogContent","map","obj","FilterOption","formControl","label","currentValue","values","setValue","DialogActions","FormControl","InputLabel","htmlFor","Select","native","onChange","Input","v","Profile","menuId","mobileMenuId","onProfileMenuOpen","onMobileMenuOpen","sectionDesktop","sectionMobile","IconButton","edge","aria-label","aria-controls","aria-haspopup","grow","flexGrow","menuButton","marginRight","title","breakpoints","up","search","position","borderRadius","shape","fade","common","white","marginLeft","padding","height","pointerEvents","inputRoot","inputInput","paddingLeft","transition","transitions","create","minWidth","TopPanel","fetchProjects","useContext","useEffect","needToClean","localFilter","setLocalFilter","event","target","searchQuery","undefined","localSort","setLocalSorting","sortObject","handleSearchKeyDown","key","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","isMobileMenuOpen","handleProfileMenuOpen","currentTarget","handleMobileMenuClose","handleMenuClose","AppBar","Toolbar","noWrap","MobileMenu","onMobileMenuClose","ProfileMenu","onMenuClose","onLogOut","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","marginBottom","info","leftInfo","float","rightInfo","fontSize","pos","ProjectCard","psproject","Card","CardContent","gutterBottom","account","details","pm_stage","pm_project_status","product_end_date","Divider","MilestonesList","milestones","onClickMilestone","milestone","projectId","_id","milestoneId","List","subheader","ListSubheader","ListItem","button","ListItemText","primary","ProjectsList","listRoot","length","CircularProgress","project","generateTableIcons","onClickEditButton","Add","forwardRef","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","SimpleTable","tableName","currentColumns","currentData","onUpdate","columns","setColumns","data","setData","icons","editable","isEditable","rowData","onRowUpdate","newData","oldData","tableKey","updateKey","dataUpdate","index","tableData","onRowUpdateCancelled","MilestonesInfo","milestonesTableColumns","milestonesTableRows","opportunity","currentMilestone","country","base","milestone_amount","gap_hours","generateMilestoneTableData","scheduleTableColumns","scheduleTableRows","schedule","s","date","week","scheduled","revenue","hours","generateScheduleTableData","handleUpdateRow","query","update","options","updateOne","tableContainer","MilestonesInfoPaper","containerClasses","foundProjects","p","foundMilestones","m","Grid","container","item","xs","Paper","background","overflow","minHeight","textAlign","text","whiteSpace","maxHeight","ProjectsContainer","FIND_PROJECTS","gql","MainPage","queryOptions","variables","filtersInput","active","timerId","refetch","useQuery","notifyOnNetworkStatusChange","onCompleted","psprojectsData","setTimeout","useLazyQuery","fetchPolicy","fetchProjectsByTrigger","clearTimeout","RealmApolloProvider","createApolloClient","client","graphQlUrl","ApolloClient","link","HttpLink","uri","fetch","headers","Authorization","cache","InMemoryCache","RealmApp","appRef","useRef","current","App","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.a5f0c151.chunk.js","sourcesContent":["module.exports = {\n    toEnUsDate\n};\n\nfunction toEnUsDate(stringDate) {\n    return new Date(stringDate).toLocaleString(\"en-US\");\n}","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 377;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport * as Realm from \"realm-web\";\n\nconst RealmContext = React.createContext('realm');\n\nrequire('dotenv').config();\n\nconst GOOGLE_CLIENT_ID = `${process.env.REACT_APP_GOOGLE_CLIENT_ID}` || '';\nconst APP_NAME = `${process.env.REACT_APP_NAME}` || 'Realm Test App';\nconst COPYRIGHT_LINK = `${process.env.REACT_APP_COPYRIGHT_LINK}` || 'http://localhost:3000';\nconst REALM_APP_ID = `${process.env.REACT_APP_REALM_APP_ID}` || '';\nconst REALM_SERVICE_NAME = `${process.env.REACT_APP_SERVICE_NAME}` || 'mongodb-atlas';\nconst REALM_DATABASE_NAME = `${process.env.REACT_APP_DATABASE_NAME}` || '';\nconst REALM_COLLECTION_NAME = `${process.env.REACT_APP_COLLECTION_NAME}` || '';\n\nexport default class ContextContainer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...this.state,\n            googleClientId: GOOGLE_CLIENT_ID,\n            realmAppId: REALM_APP_ID,\n            appName: APP_NAME,\n            copyrightLink: COPYRIGHT_LINK,\n            app: new Realm.App(REALM_APP_ID),\n            user: null,\n            dbCollection: null,\n            filter: {region: '', owner: '', project_manager: '', name: ''},\n            sort: {field: 'name', order: 'ASC'},\n            regionsList: [],\n            ownersList: [],\n            projectManagersList: [],\n            loadProcessing: false,\n            projects: null,\n            projectWithCurrentMilestone: null,\n            isEditing: false\n        };\n        this.funcs = {\n            setUser: this.setUser,\n            setClient: this.setClient,\n            anonymousSignIn: this.anonymousSignIn,\n            onGoogleSuccessSignIn: this.onGoogleSuccessSignIn,\n            onGoogleSignInFailure: this.onGoogleSignInFailure,\n            getUserAccessToken: this.getUserAccessToken,\n            logOut: this.logOut,\n            fetchFiltersDefaultValues: this.fetchFiltersDefaultValues,\n            setLoadProcessing: this.setLoadProcessing,\n            setProjects: this.setProjects,\n            cleanLocalProjects: this.cleanLocalProjects,\n            setFilter: this.setFilter,\n            setSorting: this.setSorting,\n            setProjectWithCurrentMilestone: this.setProjectWithCurrentMilestone,\n            setIsEditing: this.setIsEditing\n        }\n    };\n\n    setUser = (user) => {\n        this.setState({user});\n        if (this.state.app && user) {\n            const dbCollection = this.state.app.services\n                .mongodb(REALM_SERVICE_NAME)\n                .db(REALM_DATABASE_NAME)\n                .collection(REALM_COLLECTION_NAME);\n            this.setState({dbCollection});\n\n            console.log('watch function:', dbCollection.watch);\n        }\n    };\n\n    anonymousSignIn = async () => {\n        const credentials = Realm.Credentials.anonymous();\n        try {\n            const user = await this.state.app.logIn(credentials);\n            this.setUser(user);\n        } catch (err) {\n            console.error(err);\n        }\n    };\n\n    onGoogleSuccessSignIn = (response) => {\n        const credentials = Realm.Credentials.google(response.code);\n        this.state.app.logIn(credentials).then(user => {\n            console.log(`Logged in with id: ${user.id}`);\n            this.setUser(user);\n        }).catch(err => {\n            console.error('onGoogleSuccessSignIn:', err);\n        });\n    };\n\n    onGoogleSignInFailure = (response) => {\n        console.error('onGoogleSignInFailure:', response);\n    }\n\n    getUserAccessToken = async () => {\n        await this.state.app.currentUser.refreshCustomData();\n        return this.state.app.currentUser.accessToken;\n    };\n\n    fetchFiltersDefaultValues = async () => {\n        if (this.state.user) {\n            const fetchedData = await this.state.user.functions.getFiltersDefaultValues();\n            this.setState(\n                {\n                    regionsList: fetchedData.regions.sort() || [],\n                    ownersList: fetchedData.owners.sort() || [],\n                    projectManagersList: fetchedData.projectManagers.sort() || [],\n                }\n            );\n        }\n    }\n\n    setLoadProcessing = loadProcessing => {\n        this.setState({loadProcessing});\n    }\n\n    setProjects = projects => {\n        this.setState({projects});\n    }\n\n    cleanLocalProjects = async () => {\n        this.setState({projects: [], projectWithCurrentMilestone: null});\n    }\n\n    logOut = async () => {\n        await this.state.app.currentUser.logOut();\n        this.setUser(this.state.app.currentUser);\n    }\n\n    setFilter = (newFilter) => {\n        const filter = {...this.state.filter, ...newFilter};\n        this.setState({filter});\n    }\n\n    setSorting = (newSort) => {\n        this.setState({sort: newSort});\n    }\n\n    setProjectWithCurrentMilestone = (projectWithCurrentMilestone) => {\n        this.setState({projectWithCurrentMilestone})\n    }\n\n    setIsEditing = (isEditing) => {\n        this.setState({isEditing});\n    }\n\n\n    render() {\n        return (\n            <RealmContext.Provider value={{...this.state, ...this.funcs}}>\n                {this.props.children}\n            </RealmContext.Provider>\n        )\n    }\n}\n\nexport { RealmContext };","import React from 'react';\nimport PropTypes from 'prop-types'\nimport { GoogleLogin } from 'react-google-login';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Link from '@material-ui/core/Link';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    signInForm: {\n        width: '100%',\n        marginTop: theme.spacing(1),\n        display: 'flex',\n        justifyContent: 'center'\n    },\n    errorBox: {\n        width: '100%',\n        marginTop: theme.spacing(1),\n        display: 'flex',\n        justifyContent: 'center'\n    }\n}));\n\nSignInPage.propTypes = {\n    googleClientId: PropTypes.string.isRequired,\n    appName: PropTypes.string.isRequired,\n    copyrightLink: PropTypes.string.isRequired,\n    onSuccess: PropTypes.func.isRequired,\n    onFailure: PropTypes.func.isRequired,\n    signInError: PropTypes.string\n}\n\nSignInPage.defaultProps = {\n    signInError: null\n}\n\nexport default function SignInPage(props) {\n    const {\n        googleClientId,\n        appName,\n        copyrightLink,\n        onSuccess,\n        onFailure,\n        anonymousSignIn,\n        signInError\n    } = props;\n\n    const classes = useStyles();\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <CssBaseline />\n            <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    Sign in\n                </Typography>\n                <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    onClick={anonymousSignIn}\n                >\n                    Anonymous user\n                </Button>\n                <div className={classes.signInForm}>\n                    <GoogleLogin\n                        clientId={googleClientId}\n                        buttonText=\"Sign in with Google\"\n                        onSuccess={onSuccess}\n                        onFailure={onFailure}\n                        scope={'email profile'}\n                        responseType={'code'}\n                    />\n                </div>\n                <div className={classes.signInForm}>\n\n                </div>\n                {signInError && <div className={classes.errorBox}>\n                    <Typography variant=\"body2\" color=\"error\" align=\"center\">\n                        {signInError}\n                    </Typography>\n                </div>}\n            </div>\n            <Box mt={8}>\n                <Copyright\n                    appName={appName}\n                    copyrightLink={copyrightLink}\n                />\n            </Box>\n        </Container>\n    );\n}\n\nfunction Copyright(props) {\n    const { appName, copyrightLink } = props;\n\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright Â© '}\n            <Link color=\"inherit\" href={copyrightLink}>\n                {appName}\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from \"@material-ui/core/InputBase\";\n\nSearchField.propTypes = {\n    classes: PropTypes.object.isRequired,\n    inputPlaceHolder: PropTypes.string.isRequired,\n    onKeyDown: PropTypes.func.isRequired\n}\n\nexport default function SearchField(props) {\n    const {classes, inputPlaceHolder, onKeyDown} = props;\n    const {\n        searchContainer,\n        searchIcon,\n        inputBaseRoot,\n        inputBaseInput\n    } = classes;\n\n    return (\n        <div className={searchContainer}>\n            <div className={searchIcon}>\n                <SearchIcon />\n            </div>\n\n            <InputBase\n                placeholder={inputPlaceHolder}\n                classes={{\n                    root: inputBaseRoot,\n                    input: inputBaseInput\n                }}\n                inputProps={{'aria-label': 'search'}}\n                onKeyDown={onKeyDown}\n            />\n        </div>\n    )\n}\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\n\nimport Input from \"@material-ui/core/Input\";\n\nFilterButton.propTypes = {\n    classes: PropTypes.object.isRequired,\n    filterButtonText: PropTypes.string.isRequired,\n    filterDialogTitle: PropTypes.string.isRequired,\n    filtersObject: PropTypes.object.isRequired,\n    applyButtonText: PropTypes.string.isRequired,\n    onApplyFilters: PropTypes.func.isRequired\n}\n\nexport default function FilterButton(props) {\n    const {\n        classes,\n        filterButtonText,\n        filterDialogTitle,\n        filtersObject,\n        applyButtonText,\n        onApplyFilters,\n        showEmptyValue\n    } = props;\n\n    const {formContainer} = classes;\n\n    const [openDialog, setOpenDialog] = useState(false);\n    const handleClickOpenDialog = () => {\n        setOpenDialog(true);\n    };\n    const handleClickCloseDialog = () => {\n        setOpenDialog(false);\n    };\n    const handleClickApplyFilters = () => {\n        onApplyFilters();\n        setOpenDialog(false);\n    }\n\n    return (\n        <div className={formContainer}>\n            <Button onClick={handleClickOpenDialog} variant=\"contained\">\n                {filterButtonText}\n            </Button>\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                open={openDialog}\n                onClose={handleClickCloseDialog}\n            >\n                <DialogTitle>{filterDialogTitle}</DialogTitle>\n\n                <DialogContent>\n                    <form className={formContainer}>\n                        {filtersObject.map(obj => <FilterOption\n                            classes={{formControl: classes.formControl}}\n                            label={obj.label}\n                            currentValue={obj.currentValue}\n                            values={obj.values}\n                            setValue={obj.setValue}\n                            showEmptyValue={showEmptyValue}\n                        />)}\n                    </form>\n                </DialogContent>\n\n                <DialogActions>\n                    <Button onClick={handleClickCloseDialog} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={handleClickApplyFilters} color=\"primary\">\n                        {applyButtonText}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n\nfunction FilterOption(props) {\n    const {\n        classes,\n        label, currentValue, values, setValue,\n        showEmptyValue\n    } = props;\n\n    const {formControl} = classes;\n\n    return (\n        <FormControl className={formControl}>\n            <InputLabel htmlFor=\"demo-dialog-native\">{label}</InputLabel>\n            <Select\n                native\n                value={currentValue}\n                onChange={setValue}\n                input={<Input id=\"demo-dialog-native\" />}\n            >\n                {showEmptyValue && <option value=''/>}\n                {values.map(v => <option value={v}>{v}</option>)}\n            </Select>\n        </FormControl>\n    )\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MoreIcon from '@material-ui/icons/MoreVert';\n\nProfile.propTypes = {\n    classes: PropTypes.object.isRequired,\n    menuId: PropTypes.string.isRequired,\n    mobileMenuId: PropTypes.string.isRequired,\n    onProfileMenuOpen: PropTypes.func.isRequired,\n    onMobileMenuOpen: PropTypes.func.isRequired\n}\n\nexport default function Profile(props) {\n    const {\n        classes,\n        menuId, mobileMenuId,\n        onProfileMenuOpen,\n        onMobileMenuOpen\n    } = props;\n\n    const {\n        sectionDesktop,\n        sectionMobile,\n    } = classes;\n\n    return (<>\n        <div className={sectionDesktop}>\n            <IconButton\n                edge=\"end\"\n                aria-label=\"account of current user\"\n                aria-controls={menuId}\n                aria-haspopup=\"true\"\n                onClick={onProfileMenuOpen}\n                color=\"inherit\"\n            >\n                <AccountCircle />\n            </IconButton>\n        </div>\n\n        <div className={sectionMobile}>\n            <IconButton\n                aria-label=\"show more\"\n                aria-controls={mobileMenuId}\n                aria-haspopup=\"true\"\n                onClick={onMobileMenuOpen}\n                color=\"inherit\"\n            >\n                <MoreIcon />\n            </IconButton>\n        </div>\n    </>)\n}","import React, {useContext, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\n\nimport {RealmContext} from \"../context/RealmContext\";\nimport SearchField from \"./common/SearchField\";\nimport FilterButton from \"./common/FilterButton\";\nimport Profile from \"./common/Profile\";\n\nTopPanel.propTypes = {\n    fetchProjects: PropTypes.func.isRequired\n};\n\nconst useStyles = makeStyles((theme) => ({\n    grow: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        display: 'none',\n        [theme.breakpoints.up('sm')]: {\n            display: 'block',\n        },\n    },\n    search: {\n        position: 'relative',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginRight: theme.spacing(2),\n        marginLeft: 0,\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: theme.spacing(3),\n            width: 'auto',\n        },\n    },\n    searchIcon: {\n        padding: theme.spacing(0, 2),\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    inputRoot: {\n        color: 'inherit',\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1, 0),\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n            width: '20ch',\n        },\n    },\n    formContainer: {\n        marginLeft: theme.spacing(2)\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    sectionDesktop: {\n        display: 'none',\n        [theme.breakpoints.up('md')]: {\n            display: 'flex',\n        },\n    },\n    sectionMobile: {\n        display: 'flex',\n        [theme.breakpoints.up('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nexport default function TopPanel(props) {\n    const classes = useStyles();\n\n    const {fetchProjects} = props;\n    const {\n        filter, setFilter, sort, setSorting,\n        regionsList, ownersList, projectManagersList,\n        fetchFiltersDefaultValues, setLoadProcessing,\n        logOut\n    } = useContext(RealmContext);\n\n    useEffect(() => {\n        fetchFiltersDefaultValues();\n    }, []);\n\n    useEffect(() => {\n        setLoadProcessing(true);\n        fetchProjects({needToClean: true});\n    }, [filter, sort]);\n\n    const [localFilter, setLocalFilter] = useState(filter);\n    const filtersObject = [\n        {\n            label: 'Region',\n            currentValue: localFilter.region,\n            values: regionsList,\n            setValue: event => {\n                setLocalFilter({...localFilter, region: event.target.value});\n            }\n        },\n        {\n            label: 'Owner',\n            currentValue: localFilter.owner,\n            values: ownersList,\n            setValue: event => {\n                setLocalFilter({...localFilter, owner: event.target.value});\n            }\n        },\n        {\n            label: 'PM',\n            currentValue: localFilter.project_manager,\n            values: projectManagersList,\n            setValue: event => {\n                setLocalFilter({...localFilter, project_manager: event.target.value});\n            }\n        }\n    ];\n\n    const onApplyFilters = (searchQuery = undefined) => {\n        if (searchQuery !== undefined) {\n            setLocalFilter({...localFilter, name: searchQuery});\n            setFilter({...localFilter, name: searchQuery});\n        } else {\n            setFilter(localFilter);\n        }\n    }\n\n    const [localSort, setLocalSorting] = useState(sort);\n    const sortObject = [\n        {\n            label: 'Field',\n            currentValue: localSort.field,\n            values: ['name', 'region', 'owner'],\n            setValue: event => {\n                setLocalSorting({...localSort, field: event.target.value});\n            }\n        },\n        {\n            label: 'Order',\n            currentValue: localSort.order,\n            values: ['ASC', 'DESC'],\n            setValue: event => {\n                setLocalSorting({...localSort, order: event.target.value});\n            }\n        }\n    ];\n\n    const onApplySorting = () => {\n        setSorting(localSort);\n    }\n\n    const handleSearchKeyDown = async (event) => {\n        if (event.key === 'Enter') {\n            onApplyFilters(event.target.value);\n        }\n    }\n\n    const menuId = 'primary-search-account-menu';\n    const mobileMenuId = 'primary-search-account-menu-mobile';\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n\n    const isMenuOpen = Boolean(anchorEl);\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n    const handleProfileMenuOpen = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleMobileMenuOpen = (event) => {\n        setMobileMoreAnchorEl(event.currentTarget);\n    };\n    const handleMobileMenuClose = () => {\n        setMobileMoreAnchorEl(null);\n    };\n\n    const handleMenuClose = () => {\n        setAnchorEl(null);\n        handleMobileMenuClose();\n    };\n    const handleLogOut = () => {\n        logOut();\n        handleMenuClose();\n    }\n\n    return (\n        <div className={classes.grow}>\n            <AppBar position=\"fixed\">\n                <Toolbar>\n                    <Typography className={classes.title} variant=\"h6\" noWrap>\n                        Projects\n                    </Typography>\n                    <SearchField\n                        classes={{\n                            searchContainer: classes.search,\n                            searchIcon: classes.searchIcon,\n                            inputBaseRoot: classes.inputRoot,\n                            inputBaseInput: classes.inputInput\n                        }}\n                        inputPlaceHolder={'Search projects'}\n                        onKeyDown={handleSearchKeyDown}\n                    />\n                    <FilterButton\n                        classes={{\n                            formContainer: classes.formContainer,\n                            formControl: classes.formControl\n                        }}\n                        filterButtonText={'Filters'}\n                        filterDialogTitle={'Filter projects'}\n                        filtersObject={filtersObject}\n                        applyButtonText={'Apply filters'}\n                        onApplyFilters={onApplyFilters}\n                        showEmptyValue={true}\n                    />\n                    <FilterButton\n                        classes={{\n                            formContainer: classes.formContainer,\n                            formControl: classes.formControl\n                        }}\n                        filterButtonText={'Sort'}\n                        filterDialogTitle={'Sort projects'}\n                        filtersObject={sortObject}\n                        applyButtonText={'Sort'}\n                        onApplyFilters={onApplySorting}\n                        showEmptyValue={false}\n                    />\n                    <div className={classes.grow} />\n\n                    <Profile\n                        classes={{\n                            sectionDesktop: classes.sectionDesktop,\n                            sectionMobile: classes.sectionMobile\n                        }}\n                        menuId={menuId}\n                        mobileMenuId={mobileMenuId}\n                        onProfileMenuOpen={handleProfileMenuOpen}\n                        onMobileMenuOpen={handleMobileMenuOpen}\n                    />\n                </Toolbar>\n            </AppBar>\n\n            <MobileMenu\n                mobileMoreAnchorEl={mobileMoreAnchorEl}\n                mobileMenuId={mobileMenuId}\n                isMobileMenuOpen={isMobileMenuOpen}\n                onMobileMenuClose={handleMobileMenuClose}\n                onProfileMenuOpen={handleProfileMenuOpen}\n            />\n\n            <ProfileMenu\n                anchorEl={anchorEl}\n                menuId={menuId}\n                isMenuOpen={isMenuOpen}\n                onMenuClose={handleMenuClose}\n                onLogOut={handleLogOut}\n            />\n        </div>\n    );\n}\n\nfunction ProfileMenu(props) {\n    const {\n        anchorEl, menuId, isMenuOpen,\n        onMenuClose, onLogOut\n    } = props;\n\n    return (\n        <Menu\n            anchorEl={anchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={menuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMenuOpen}\n            onClose={onMenuClose}\n        >\n            <MenuItem onClick={onLogOut}>Log Out</MenuItem>\n        </Menu>\n    )\n}\n\nfunction MobileMenu(props) {\n    const {\n        mobileMoreAnchorEl, mobileMenuId, isMobileMenuOpen,\n        onMobileMenuClose, onProfileMenuOpen\n    } = props;\n\n    return (\n        <Menu\n            anchorEl={mobileMoreAnchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={mobileMenuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={isMobileMenuOpen}\n            onClose={onMobileMenuClose}\n        >\n            <MenuItem onClick={onProfileMenuOpen}>\n                <IconButton\n                    aria-label=\"account of current user\"\n                    aria-controls=\"primary-search-account-menu\"\n                    aria-haspopup=\"true\"\n                    color=\"inherit\"\n                >\n                    <AccountCircle />\n                </IconButton>\n                <p>Profile</p>\n            </MenuItem>\n        </Menu>\n    )\n}\n","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from \"@material-ui/core/Divider\";\nimport List from \"@material-ui/core/List\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n\nimport {RealmContext} from \"../../context/RealmContext\";\nimport {toEnUsDate} from \"../../helpers/dateFormatter\";\n\nconst useStyles = makeStyles({\n    root: {\n        width: '55vh',\n        marginBottom: 5\n    },\n    info: {\n        display: 'inline-block',\n        width: '100%'\n    },\n    leftInfo: {\n        float: 'left'\n    },\n    rightInfo: {\n        float: 'right'\n    },\n    title: {\n        fontSize: 14,\n    },\n    pos: {\n        marginBottom: 12,\n    },\n});\n\nProjectCard.propTypes = {\n    psproject: PropTypes.object.isRequired\n};\n\nexport default function ProjectCard(props) {\n    const classes = useStyles();\n\n    const {psproject} = props;\n    const {setProjectWithCurrentMilestone} = useContext(RealmContext);\n\n    const handleOnClickMilestone = (milestone) => {\n        setProjectWithCurrentMilestone({\n            projectId: psproject._id,\n            milestoneId: milestone._id\n        });\n    }\n\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <div className={classes.info}>\n                    <div className={classes.leftInfo}>\n                        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n                            {psproject.account}\n                        </Typography>\n                    </div>\n                    <div className={classes.rightInfo}>\n                        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n                            {psproject.region}\n                        </Typography>\n                    </div>\n                </div>\n\n                <Typography variant=\"h5\" component=\"h2\">\n                    {psproject.name}\n                </Typography>\n\n                <div className={classes.info}>\n                    <div className={classes.leftInfo}>\n                        <Typography className={classes.pos} color=\"textSecondary\" gutterBottom>\n                            Owner: {psproject.owner}\n                        </Typography>\n                    </div>\n                    <div className={classes.rightInfo}>\n                        <Typography className={classes.pos} color=\"textSecondary\" gutterBottom>\n                            PM: {psproject.project_manager}\n                        </Typography>\n                    </div>\n                </div>\n\n                <Typography variant=\"body2\" component=\"p\">\n                    <b>Stage:</b> {psproject.details.pm_stage}\n                </Typography>\n                <Typography variant=\"body2\" component=\"p\">\n                    <b>Status:</b> {psproject.details.pm_project_status}\n                </Typography>\n                <Typography variant=\"body2\" component=\"p\">\n                    <b>Expires:</b> {toEnUsDate(psproject.details.product_end_date)}\n                </Typography>\n                <Divider />\n\n                <MilestonesList\n                    milestones={psproject.milestones}\n                    onClickMilestone={handleOnClickMilestone}\n                />\n            </CardContent>\n        </Card>\n    );\n}\n\nfunction MilestonesList(props) {\n    const {milestones, onClickMilestone} = props;\n\n    return (\n        <List subheader={<li />}>\n            <ListSubheader>Milestones</ListSubheader>\n            {milestones.map(milestone => {\n                return (\n                    <ListItem button onClick={() => onClickMilestone(milestone)}>\n                        <ListItemText primary={milestone.name} />\n                    </ListItem>\n                )\n            })}\n        </List>\n    )\n}","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport List from \"@material-ui/core/List\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport {RealmContext} from \"../../context/RealmContext\";\nimport ProjectCard from \"./ProjectCard\";\n\nProjectsList.propTypes = {\n    classes: PropTypes.object.isRequired,\n}\n\nexport default function ProjectsList(props) {\n    const {classes} = props;\n\n    const {loadProcessing, projects} = useContext(RealmContext);\n\n    return (\n        <List component=\"nav\" className={classes.listRoot} aria-label=\"contacts\">\n            <ListSubheader color=\"primary\">\n                <Typography variant=\"h5\">\n                    Total projects: {projects ? projects.length : 0}\n                </Typography>\n            </ListSubheader>\n\n            {loadProcessing && <ListItem>\n                <CircularProgress />\n            </ListItem>}\n\n            {!loadProcessing && projects && projects.map(project => {\n                return (\n                    <ListItem>\n                        <ProjectCard psproject={project} />\n                    </ListItem>\n                )\n            })}\n        </List>\n    )\n}","import React, {forwardRef} from 'react';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\n\nexport default function generateTableIcons(props) {\n    const {onClickEditButton} = props;\n\n    return  {\n        Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n        Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n        Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n        Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n        DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n        Edit: forwardRef((props, ref) => <Edit\n            {...props} ref={ref} onClick={onClickEditButton}\n        />),\n        Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n        Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n        FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n        LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n        NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n        PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\n        ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n        Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n        SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\n        ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n        ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n    };\n}","import React, {useContext, useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport MaterialTable from \"material-table\";\n\nimport generateTableIcons from \"./helpers/TableIcons\";\nimport {RealmContext} from \"../../context/RealmContext\";\n\nSimpleTable.propTypes = {\n    projectId: PropTypes.string.isRequired,\n    tableName: PropTypes.string.isRequired,\n    currentColumns: PropTypes.array.isRequired,\n    currentData: PropTypes.array.isRequired,\n    onUpdate: PropTypes.func,\n    fetchProjects: PropTypes.func\n}\n\nexport default function SimpleTable(props) {\n    const {\n        projectId, tableName,\n        currentColumns, currentData,\n        onUpdate, fetchProjects\n    } = props;\n\n    const {isEditing, setIsEditing} = useContext(RealmContext);\n\n    const [columns, setColumns] = useState(currentColumns);\n    const [data, setData] = useState(currentData);\n\n    useEffect(() => {\n        if (!isEditing) {\n            setColumns(currentColumns);\n        }\n    }, [isEditing, projectId, currentColumns]);\n\n    useEffect(() => {\n        if (!isEditing) {\n            setData(currentData);\n        }\n    }, [isEditing, projectId, currentData]);\n\n    const onClickEditButton = () => setIsEditing(true);\n\n    return (\n        <MaterialTable\n            title={tableName}\n            icons={generateTableIcons({onClickEditButton})}\n            columns={columns}\n            data={data}\n            editable={{\n                isEditable: rowData => rowData.editable,\n                onRowUpdate: async (newData, oldData) => {\n                    try {\n                        const {tableKey, updateKey} = newData;\n                        await onUpdate({updateKey, value: newData[tableKey]});\n                        const dataUpdate = [...data];\n                        const index = oldData.tableData.id;\n                        dataUpdate[index] = newData;\n                        setData([...dataUpdate]);\n                        fetchProjects({needToClean: false});\n                        setIsEditing(false);\n                    } catch (e) {\n                        console.error(e);\n                        setIsEditing(false);\n                    }\n                },\n                onRowUpdateCancelled: () => setIsEditing(false)\n            }}\n        />\n    );\n}","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\n\nimport SimpleTable from \"../common/SimpleTable\";\nimport {\n    generateMilestoneTableData,\n    generateScheduleTableData\n} from \"../common/helpers/generateTablesData\";\nimport {RealmContext} from \"../../context/RealmContext\";\n\nMilestonesInfo.propTypes = {\n    classes: PropTypes.object.isRequired,\n    project: PropTypes.object.isRequired,\n    fetchProjects: PropTypes.func\n};\n\nexport default function MilestonesInfo(props) {\n    const {classes, project, fetchProjects} = props;\n    const {dbCollection} = useContext(RealmContext);\n\n    const {\n        milestonesTableColumns,\n        milestonesTableRows\n    } = generateMilestoneTableData(project);\n\n    const {\n        scheduleTableColumns,\n        scheduleTableRows\n    } = generateScheduleTableData(project);\n\n    const handleUpdateRow = async ({updateKey, value}) => {\n        const query = {_id: project._id};\n        const update = {'$set': {[updateKey]: value}};\n        const options = {'upsert': false};\n        await dbCollection.updateOne(query, update, options);\n    }\n\n    return (<>\n        {milestonesTableRows.length !== 0 && <div className={classes.tableContainer}>\n            <SimpleTable\n                projectId={project._id}\n                tableName='Project milestone info'\n                currentColumns={milestonesTableColumns}\n                currentData={milestonesTableRows}\n                onUpdate={handleUpdateRow}\n                fetchProjects={fetchProjects}\n            />\n        </div>}\n        {scheduleTableRows.length !== 0 && <div className={classes.tableContainer}>\n            <SimpleTable\n                projectId={project._id}\n                tableName='Schedule'\n                currentColumns={scheduleTableColumns}\n                currentData={scheduleTableRows}\n            />\n        </div>}\n    </>)\n}","import {toEnUsDate} from \"../../../helpers/dateFormatter\";\n\nexport function generateMilestoneTableData(project) {\n    if (!project) return {\n        milestonesTableColumns: [],\n        milestonesTableRows: []\n    };\n\n    const {\n        owner, region,\n        project_manager,\n        account, name,\n        opportunity, details,\n        currentMilestone\n    } = project;\n\n    const milestonesTableColumns = [\n        {title: 'Project / Milestone Fields', field: 'name', editable: 'never'},\n        {title: 'Value', field: 'value', editable: 'onUpdate'}\n    ];\n    const milestonesTableRows = [\n        {name: 'Project Owner', value: owner, editable: false},\n        {name: 'Region', value: region, editable: false},\n        {name: 'Project Manager', value: project_manager, editable: false},\n        {\n            name: 'PM Stage',\n            value: details.pm_stage,\n            editable: true,\n            tableKey: 'value',\n            updateKey: 'details.pm_stage'\n        },\n        {name: 'Account', value: account, editable: false},\n        {name: 'Opportunity', value: opportunity.name, editable: false},\n        {name: 'PS Project Name', value: name, editable: false},\n        {name: 'Milestone Name', value: currentMilestone.name, editable: false},\n        {name: 'Country', value: currentMilestone.country, editable: false},\n        {name: 'Milestone amount', value: currentMilestone.base.milestone_amount, editable: false},\n        {name: 'Gap Hours', value: currentMilestone.base.gap_hours, editable: false}\n    ]\n\n    return {milestonesTableColumns, milestonesTableRows}\n}\n\nexport function generateScheduleTableData(project) {\n    if (!project) return {\n        scheduleTableColumns: [],\n        scheduleTableRows: []\n    };\n\n    const {currentMilestone} = project;\n\n    const scheduleTableColumns = [\n        {title: 'Date', field: 'date', editable: 'never'},\n        {title: 'Scheduled', field: 'scheduled', editable: 'never'},\n        {title: 'Hours', field: 'hours', editable: 'never'}\n    ];\n    const scheduleTableRows = currentMilestone.schedule.map(s => {\n        return {\n            date: toEnUsDate(s.week),\n            scheduled: s.revenue ? `$ ${s.revenue}` : '-',\n            hours: s.hours ? s.hours : '-',\n            editable: false\n        };\n    });\n\n    return {scheduleTableColumns, scheduleTableRows}\n}","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport {RealmContext} from \"../../context/RealmContext\";\nimport MilestonesInfo from \"./MilestonesInfo\";\n\nconst useStyles = makeStyles({\n    tableContainer: {\n        marginTop: '20px'\n    }\n});\n\nMilestonesInfoPaper.propTypes = {\n    classes: PropTypes.object.isRequired,\n    fetchProjects: PropTypes.func\n};\n\nexport default function MilestonesInfoPaper(props) {\n    const containerClasses = useStyles();\n    const {classes, fetchProjects} = props;\n    const {projectWithCurrentMilestone, projects} = useContext(RealmContext);\n\n    let project = null;\n    let currentMilestone = null;\n    if (projectWithCurrentMilestone) {\n        const {projectId, milestoneId} = projectWithCurrentMilestone;\n        const foundProjects = projects.filter(p => p._id === projectId);\n        if (foundProjects && foundProjects.length) {\n            project = foundProjects[0];\n            const foundMilestones = project.milestones.filter(m => m._id === milestoneId);\n            currentMilestone = foundMilestones && foundMilestones.length ? foundMilestones[0] : null;\n        }\n    }\n\n    return (\n        <Grid container>\n            <Grid item xs={12}>\n                <Paper className={classes.paper}>\n                    <Typography variant=\"h4\" gutterBottom>\n                        Milestones overview\n                    </Typography>\n                    <Divider />\n\n                    {project && currentMilestone\n                        ? <MilestonesInfo\n                            classes={containerClasses}\n                            project={{...project, currentMilestone}}\n                            fetchProjects={fetchProjects}\n                        />\n                        : <div className={containerClasses.tableContainer}>\n                            <Typography variant=\"body1\">\n                                Click on project milestone to see an overview...\n                            </Typography>\n                        </div>\n                    }\n                </Paper>\n            </Grid>\n        </Grid>\n    )\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProjectsList from \"./projects/ProjectsList\";\nimport MilestonesInfoPaper from \"./projects/MilestonesInfoPaper\";\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        marginTop: 70,\n        display: 'flex',\n        flexDirection: 'row'\n    },\n    root: {\n        width: '90vh',\n        backgroundColor: theme.palette.background.paper,\n        position: 'relative',\n        overflow: 'auto',\n        minHeight: '90vh',\n        height: '90vh'\n    },\n    paper: {\n        padding: theme.spacing(1),\n        textAlign: 'center',\n        color: theme.palette.text.primary,\n        whiteSpace: 'normal',\n        marginBottom: theme.spacing(1),\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(1),\n        maxHeight: '90vh',\n        overflow: 'auto'\n    },\n}));\n\nProjectsContainer.propTypes = {\n    fetchProjectsResolver: PropTypes.func\n}\n\nexport default function ProjectsContainer(props) {\n    const classes = useStyles();\n\n    const {fetchProjects} = props;\n\n    return (\n        <div className={classes.container}>\n            <ProjectsList classes={{listRoot: classes.root}} />\n            <MilestonesInfoPaper\n                classes={{paper: classes.paper}}\n                fetchProjects={fetchProjects}\n            />\n        </div>\n    )\n}","import gql from 'graphql-tag'\n\nexport const FIND_PROJECTS = gql`\n    query FindProjectsCustomResolver($filtersInput: FiltersInput!) {\n        psprojectsData(input: $filtersInput) {\n            _id\n            account\n            active\n            details {\n                pm_stage\n                pm_project_status\n                product_end_date\n            }\n            opportunity {\n                name\n                owner\n                engagement_manager\n            }\n            milestones {\n                _id\n                country\n                currency\n                name\n                base {\n                    milestone_amount\n                    gap_hours\n                }\n                schedule {\n                    week\n                    revenue\n                    hours\n                }\n            }\n            name\n            owner\n            project_manager\n            region\n            stage\n        }\n    }\n`;","import React, {useContext} from 'react';\nimport {useQuery, useLazyQuery} from \"@apollo/client\";\n\nimport {RealmContext} from \"../context/RealmContext\";\nimport TopPanel from \"../components/TopPanel\";\nimport ProjectsContainer from \"../components/ProjectsContainer\";\nimport {FIND_PROJECTS} from \"../graphql/graphql-operations\";\n\nexport default function MainPage() {\n    const {\n        setProjects,\n        setLoadProcessing,\n        cleanLocalProjects,\n        filter, sort\n    } = useContext(RealmContext);\n\n    const getSortOrder = () => {\n        const {field, order} = sort;\n        return {field, order: order === 'DESC' ? -1 : 1};\n    }\n\n    const queryOptions = {\n        variables: {\n            filtersInput: {\n                filter: {...filter, active: true},\n                sort: getSortOrder()\n            }\n        }\n    };\n\n    let timerId = null;\n    const {refetch} = useQuery(\n        FIND_PROJECTS,\n        {\n            ...queryOptions,\n            notifyOnNetworkStatusChange: true,\n            onCompleted: data => {\n                setProjects(data.psprojectsData);\n                timerId = setTimeout(refetch, 5000);\n            }\n        }\n    );\n\n    const [fetchProjects] = useLazyQuery(\n        FIND_PROJECTS,\n        {\n            ...queryOptions,\n            onCompleted: data => {\n                setProjects(data.psprojectsData);\n                setLoadProcessing(false);\n                timerId = setTimeout(refetch, 5000);\n            },\n            fetchPolicy: 'network-only'\n        }\n    );\n\n    const fetchProjectsByTrigger = async ({needToClean}) => {\n        timerId && clearTimeout(timerId);\n        needToClean && await cleanLocalProjects();\n        await fetchProjects();\n    }\n\n    return (<>\n        <TopPanel fetchProjects={fetchProjectsByTrigger} />\n        <ProjectsContainer fetchProjects={fetchProjectsByTrigger} />\n    </>)\n}","import React, {useContext, useEffect, useState} from 'react';\nimport {\n    ApolloProvider,\n    ApolloClient,\n    HttpLink,\n    InMemoryCache\n} from \"@apollo/client\";\n\nimport {RealmContext} from \"./context/RealmContext\";\nimport MainPage from \"./containers/MainPage\";\n\nexport default function RealmApolloProvider() {\n    const {\n        realmAppId,\n        getUserAccessToken,\n        user\n    } = useContext(RealmContext);\n\n    const [client, setClient] = useState(createApolloClient(realmAppId, getUserAccessToken));\n    useEffect(() => {\n        setClient(\n            createApolloClient(realmAppId, getUserAccessToken)\n        );\n    }, [user]);\n\n    return (\n        <ApolloProvider client={client}>\n            <MainPage />\n        </ApolloProvider>\n    )\n}\n\nfunction createApolloClient(realmAppId, getUserAccessToken) {\n    const graphQlUrl = `https://realm.mongodb.com/api/client/v2.0/app/${realmAppId}/graphql`;\n\n    return new ApolloClient({\n        link: new HttpLink({\n            uri: graphQlUrl,\n            fetch: async (uri, options) => {\n                const accessToken = await getUserAccessToken();\n                options.headers.Authorization = `Bearer ${accessToken}`;\n                return fetch(uri, options);\n            },\n        }),\n        cache: new InMemoryCache()\n    });\n}","import React, {useContext, useRef, useEffect} from \"react\";\n\nimport {RealmContext} from \"./context/RealmContext\";\nimport SignInPage from \"./containers/SignInPage\";\nimport RealmApolloProvider from \"./RealmApolloProvider\";\n\nexport default function RealmApp() {\n    const {\n        app, appName, copyrightLink, googleClientId,\n        anonymousSignIn, user, setUser,\n        onGoogleSuccessSignIn, onGoogleSignInFailure\n    } = useContext(RealmContext);\n\n    const appRef = useRef(app);\n\n    useEffect(() => {\n        setUser(app.currentUser);\n    }, [appRef.current.currentUser]);\n\n    return (\n        <>\n            {!user && <SignInPage\n                onSuccess={onGoogleSuccessSignIn}\n                appName={appName}\n                copyrightLink={copyrightLink}\n                googleClientId={googleClientId}\n                onFailure={onGoogleSignInFailure}\n                anonymousSignIn={anonymousSignIn}\n            />}\n            {user && <RealmApolloProvider />}\n        </>\n    )\n}","import React, {Component} from 'react';\n\nimport RealmContextContainer from \"./context/RealmContext\";\nimport RealmApp from \"./RealmApp\";\n\nimport './App.css';\n\nclass App extends Component {\n    render() {\n        return (\n            <div className=\"App\">\n                <RealmContextContainer>\n                    <RealmApp />\n                </RealmContextContainer>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}